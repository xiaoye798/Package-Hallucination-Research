# Hallucination Package Research

This repository hosts the "Hallucination Package Research" project, focusing on the development and implementation of an autonomous agent designed to detect, preempt, and warn against hallucinated software package names, often generated by Large Language Models (LLMs).

## 1. Introduction

The increasing sophistication of Large Language Models (LLMs) has led to a novel threat: the generation of "hallucinated" software package names. These are plausible-sounding but non-existent packages that, if maliciously registered by attackers, could lead to widespread software supply chain attacks. This project introduces an autonomous agent engineered to proactively mitigate this risk.

The core of this research is an n8n-based autonomous agent with three primary functionalities:
1.  **Self-Detection:** Identifying potential hallucinated package names from various sources (e.g., LLM interactions, community reports).
2.  **Benign Preemption:** Attempting to register identified hallucinated package names on relevant package managers with benign, placeholder content to prevent malicious takeover.
3.  **Warning Generation & Dissemination:** Publishing information about confirmed hallucinated packages to alert the developer community.

This repository provides the complete implementation of this agent, related research artifacts, and deployment guidelines, fostering transparency, reproducibility, and community collaboration in addressing this emerging threat.

## 2. Core Components & Functionality

The autonomous agent is the central piece of this research. Its operations are orchestrated through a series of interconnected modules:

### 2.1. Autonomous Agent Modules

*   **Self-Detection Module:**
    *   **Purpose:** To automatically identify package names that are likely LLM hallucination.
    *   **Functionality:** This module can be configured to monitor various inputs, such as logs of LLM interactions, community-submitted reports, or outputs from custom scripts that probe LLMs for package suggestions. It employs heuristics and potentially lightweight checks (e.g., against known package indices) to flag suspicious names.
    *   **Implementation:** Realized as one or more n8n workflows that process input data, apply detection logic, and pass candidate names to the next stage.

*   **Benign Preemption Module:**
    *   **Purpose:** To proactively secure identified hallucinated package names before malicious actors can exploit them.
    *   **Functionality:** Upon receiving a high-confidence hallucinated package name, this module attempts to register it on specified package repositories (e.g., Npm). The registration uses benign placeholder content, clearly indicating its purpose as a preemptive measure. It logs the success or failure of these preemption attempts.
    *   **Implementation:** n8n workflows that interact with package manager APIs or command-line tools to perform registrations. Requires appropriate credentials and careful handling of API rate limits.

*   **Warning Generation & Dissemination Module:**
    *   **Purpose:** To inform the developer community and relevant stakeholders about discovered and/or preempted hallucinated packages.
    *   **Functionality:** This module takes information about confirmed hallucinated packages (either detected, or detected and successfully preempted) and formats it for public release. This often involves publishing to a dedicated warning website, updating a public data feed, or sending alerts through other channels.
    *   **Implementation:** n8n workflows responsible for data formatting, API interactions with the warning platform, or other communication channel integrations.

### 2.2. n8n Workflow Implementation
The agent's logic, orchestration, and module interactions are primarily implemented using **n8n.io**, an open-source workflow automation tool. This approach offers:
*   **Modularity:** Each module (detection, preemption, warning) can be a distinct set of workflows.
*   **Visual Design:** Workflows are designed visually, making the agent's logic easier to understand and modify.
*   **Extensibility:** n8n's wide range of integrations allows for easy connection to various data sources, APIs, and services.

## 3. Repository Structure

The repository is organized to provide clarity and ease of access to different components of the project:

```
Hallucination-Package-Research/
├──.github/workflows/
│   ├── sync_sheet.yml            # GitHub Action for Google Sheet data export and commit
├──data/
│   ├── data.csv                 # hallucinated package
├── docs/                         # n8n workflow screenshot
│   ├── agent.png
│   ├── preemption_module.png
│   └── detection_module.png
├── n8n-workflows/                # Contains n8n workflow JSON files
│   ├── agent.json
│   ├── detection_module.json
│   ├── preemption_module.json
│   └── warning_module.json
├── fetch_sheet_data.py        # Fetching Google Sheet data to CSV
└── README.md                     # This file: project overview and main entry point
```

*   **`data/data.csv`**: The hallucinated package list updated once an hour.
*   **`docs/`**: Houses more detailed picture, including:
    *   `agent.png`: overall framework diagram of the  agent;
    *   `detextion_module.png`: framework diagram of detextion_module;
    *   `preemption_module.png`: framework diagram of preemption_module

*   **`n8n-workflows/`**: Contains the exported JSON files for all n8n workflows that constitute the autonomous agent. These can be directly imported into an n8n instance.
*   **`README.md`**: The primary guide for the repository, offering an overview and setup instructions.
*   **`fetch_sheet_data.py/`**: This script fetches data from a Google Sheet using API credentials and saves it to a CSV file in data folder.
*   
## 4. Key Technologies Used

*   **n8n.io:** Core platform for workflow automation and agent orchestration.
*   **[Specify Package Manager APIs/CLIs]:** e.g., npm CLI (for npm), etc., used by the preemption module.
*   **[Specify LLM Interaction Libraries/APIs]:** e.g., OpenAI API, Hugging Face libraries, etc., if scripts directly interact with LLMs.
*   **[Specify Programming Languages for Scripts]:** e.g., Python, Bash, for any custom scripts in the `/scripts` directory.

## 5. Purpose & Intended Use

This repository and the accompanying agent serve multiple purposes:

*   **Research & Experimentation:** Provides a functional platform for researchers to study the phenomenon of package hallucination and experiment with various defense strategies.
*   **Proof of Concept:** Demonstrates the feasibility and effectiveness of an autonomous, n8n-based agent for proactively mitigating risks associated with hallucinated packages.
*   **Community Resource:** Offers a foundational tool and knowledge base that the wider security and developer community can adapt, extend, or learn from.
*   **Transparency & Reproducibility:** By open-sourcing the implementation, this project aims to ensure that the research methods are transparent and the results are reproducible by others.

## 6. Deployment & Usage

Deploying and running the autonomous agent generally involves the following steps:

1.  **Set up an n8n Instance:** Install and configure an n8n instance (either self-hosted or cloud-based).
2.  **Import Workflows:** Import the workflow JSON files from the `n8n-workflows/` directory into your n8n instance.
3.  **Configure Credentials & Parameters:** Set up necessary credentials (API keys for package managers, LLM services, etc.) and configure parameters within the n8n workflows.
4.  **Activate Workflows:** Activate the relevant n8n workflows to start the agent's detection, preemption, and warning processes.
5.  **Monitoring:** Monitor the agent's execution logs and outputs through the n8n interface.


## 7. Live Demonstration / Output

The outputs generated by instances of this agent (i.e., lists of detected and/or preempted hallucinated packages) are intended to be published for public awareness. 
The warnings generated by a deployment of this agent are showcased on the hallucination package monitoring center, accessible at: [xx]"


